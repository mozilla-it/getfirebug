<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"> <link rel=stylesheet href="../../code.css" type="text/css"></head><body><pre><span class="COMM">/* See license.txt for terms of usage */</span>

<span class="COMM">// ************************************************************************************************</span>
<span class="COMM">// Text selection conroller.</span>

<span class="COMM">/** @namespace */</span>
<span class="KEYW">var</span> <span class="NAME NAMEDEF"><a href="../../symbols/src/content_FBTestSelection.js.html#L7">SelectionController</a><span class='doclink'><a href="../../symbols/SelectionController.html">^</a></span></span> <span class="PUNC">=</span>
<span class='scope' rel='SelectionController'><span class="PUNC">{</span>
    <span class="NAME NAMEDEF">listeners</span><span class="PUNC">:</span> <span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span>

    <span class="NAME NAMEDEF"><a href="../../symbols/src/content_FBTestSelection.js.html#L11">addListener</a><span class='doclink'><a href="../../symbols/SelectionController.html#.addListener">^</a></span></span><span class="PUNC">:</span> <span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME NAMEDEF">listener</span><span class="PUNC">)</span>
    <span class='scope' rel='SelectionController.addListener'><span class="PUNC">{</span>
        <span class="NAME"><a href="../../symbols/src/content_testCore.js.html#L7">FBTestApp</a></span><span class="PUNC">.</span><span class="NAME"><a href="../../symbols/src/content_testRunner.js.html#L708">SelectionController</a></span><span class="PUNC">.</span><span class="NAME"><a href="../../symbols/src/content_testRunner.js.html#L712">addListener</a></span><span class="PUNC">(</span><span class="NAME">listener</span><span class="PUNC">)</span><span class="PUNC">;</span>
        <span class="NAME"><a href="../../symbols/src/content_FBTestSelection.js.html#L7">this</a></span><span class="PUNC">.</span><span class="NAME">listeners</span><span class="PUNC">.</span><span class="NAME">push</span><span class="PUNC">(</span><span class="NAME">listener</span><span class="PUNC">)</span><span class="PUNC">;</span>
    <span class="PUNC">}</span></span><span class="PUNC">,</span>

    <span class="NAME NAMEDEF"><a href="../../symbols/src/content_FBTestSelection.js.html#L17">removeListener</a><span class='doclink'><a href="../../symbols/SelectionController.html#.removeListener">^</a></span></span><span class="PUNC">:</span> <span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME NAMEDEF">listener</span><span class="PUNC">)</span>
    <span class='scope' rel='SelectionController.removeListener'><span class="PUNC">{</span>
        <span class="NAME"><a href="../../symbols/src/content_testCore.js.html#L7">FBTestApp</a></span><span class="PUNC">.</span><span class="NAME"><a href="../../symbols/src/content_testRunner.js.html#L708">SelectionController</a></span><span class="PUNC">.</span><span class="NAME"><a href="../../symbols/src/content_testRunner.js.html#L717">removeListener</a></span><span class="PUNC">(</span><span class="NAME">listener</span><span class="PUNC">)</span><span class="PUNC">;</span>
        <span class="NAME">FW</span><span class="PUNC">.</span><span class="NAME">FBL</span><span class="PUNC">.</span><span class="NAME">remove</span><span class="PUNC">(</span><span class="NAME"><a href="../../symbols/src/content_FBTestSelection.js.html#L7">this</a></span><span class="PUNC">.</span><span class="NAME">listeners</span><span class="PUNC">,</span> <span class="NAME">listener</span><span class="PUNC">)</span><span class="PUNC">;</span>
    <span class="PUNC">}</span></span><span class="PUNC">,</span>

    <span class="NAME NAMEDEF"><a href="../../symbols/src/content_FBTestSelection.js.html#L23">cleanUp</a><span class='doclink'><a href="../../symbols/SelectionController.html#.cleanUp">^</a></span></span><span class="PUNC">:</span> <span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span>
    <span class='scope' rel='SelectionController.cleanUp'><span class="PUNC">{</span>
        <span class="COMM">// Remove all listeners registered by the current test.</span>
        <span class="KEYW">while</span> <span class="PUNC">(</span><span class="NAME"><a href="../../symbols/src/content_FBTestSelection.js.html#L7">this</a></span><span class="PUNC">.</span><span class="NAME">listeners</span><span class="PUNC">.</span><span class="NAME">length</span><span class="PUNC">)</span>
            <span class="NAME"><a href="../../symbols/src/content_FBTestSelection.js.html#L7">this</a></span><span class="PUNC">.</span><span class="NAME"><a href="../../symbols/src/content_FBTestSelection.js.html#L17">removeListener</a></span><span class="PUNC">(</span><span class="NAME"><a href="../../symbols/src/content_FBTestSelection.js.html#L7">this</a></span><span class="PUNC">.</span><span class="NAME">listeners</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="PUNC">;</span>
    <span class="PUNC">}</span></span>
<span class="PUNC">}</span></span>

<span class="COMM">// ************************************************************************************************</span>
<span class="COMM">// Clean up</span>

<span class="NAME">window</span><span class="PUNC">.</span><span class="NAME">addEventListener</span><span class="PUNC">(</span><span class="STRN">"unload"</span><span class="PUNC">,</span> <span class="KEYW">function</span> <span class="NAME NAMEDEF"><a href="../../symbols/src/content_FBTestSelection.js.html#L34">testSelectionUnload</a><span class='doclink'><a href="../../symbols/_global_.html#testSelectionUnload">^</a></span></span><span class="PUNC">(</span><span class="PUNC">)</span> <span class='scope' rel='testSelectionUnload'><span class="PUNC">{</span>
    <span class="NAME"><a href="../../symbols/src/content_FBTestSelection.js.html#L7">SelectionController</a></span><span class="PUNC">.</span><span class="NAME"><a href="../../symbols/src/content_FBTestSelection.js.html#L23">cleanUp</a></span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span>
<span class="PUNC">}</span></span><span class="PUNC">,</span> <span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">;</span>
</pre><div class="lineNumbers"><div><a name="L1" href="#L1">1</a></div><div><a name="L2" href="#L2">2</a></div><div><a name="L3" href="#L3">3</a></div><div><a name="L4" href="#L4">4</a></div><div><a name="L5" href="#L5">5</a></div><div><a name="L6" href="#L6">6</a></div><div><a name="L7" href="#L7">7</a></div><div><a name="L8" href="#L8">8</a></div><div><a name="L9" href="#L9">9</a></div><div><a name="L10" href="#L10">10</a></div><div><a name="L11" href="#L11">11</a></div><div><a name="L12" href="#L12">12</a></div><div><a name="L13" href="#L13">13</a></div><div><a name="L14" href="#L14">14</a></div><div><a name="L15" href="#L15">15</a></div><div><a name="L16" href="#L16">16</a></div><div><a name="L17" href="#L17">17</a></div><div><a name="L18" href="#L18">18</a></div><div><a name="L19" href="#L19">19</a></div><div><a name="L20" href="#L20">20</a></div><div><a name="L21" href="#L21">21</a></div><div><a name="L22" href="#L22">22</a></div><div><a name="L23" href="#L23">23</a></div><div><a name="L24" href="#L24">24</a></div><div><a name="L25" href="#L25">25</a></div><div><a name="L26" href="#L26">26</a></div><div><a name="L27" href="#L27">27</a></div><div><a name="L28" href="#L28">28</a></div><div><a name="L29" href="#L29">29</a></div><div><a name="L30" href="#L30">30</a></div><div><a name="L31" href="#L31">31</a></div><div><a name="L32" href="#L32">32</a></div><div><a name="L33" href="#L33">33</a></div><div><a name="L34" href="#L34">34</a></div><div><a name="L35" href="#L35">35</a></div><div><a name="L36" href="#L36">36</a></div><div><a name="L37" href="#L37">37</a></div></div><div id="sourceSpacer" class="lineNumbers"></div></pre></body></html>