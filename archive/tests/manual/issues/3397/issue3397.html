<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>Test Case for Issue #3397</title>
  <script type="text/javascript">
  var FBL = {
      escapeForSourceLine: function(str) { return str; }
  };
  var FBTrace = {};
  </script>
  <script type="text/javascript" src="domplate.js" ></script>
</head>
<body>

<h1>Issue #3397</h1>

<p>This test-case is intended for <a href="http://code.google.com/p/fbug/issues/detail?id=3397">Issue #3397</a>
- <span class="h3">      Domplate: It is not possible to add an event listener to a TD element.</span>.
<br/>
<i>Jan Odvarko, odvarko@gmail.com</i>
</p>

<ol>
<li>You can see a simple tabe (1x1) displayed below (generated by Domplate).</li>
<li>Clic on the text <i>click here</i>.</li>
<li>You should see an alert dialog, but it's not displayed since
registered event handler is not executed.</li>
</ol>

<div id="content"></div>

<script type="text/javascript">
with (FBL) {
var template = domplate(
{
  table:
      TABLE({border: "1"},
        TBODY(
          FOR("row", "$data.rows",
              TR(
                  FOR("value", "$row.values",
                      TD({onclick: "$onClick"}, "$value")
                  )
              )
          )
        )
      ),

  onClick: function(event)
  {
    alert("If you see this, it works!");
  }
});
}

var tableData = {
  rows: [
    {values: [1,2,3,4]},
    {values: [11,22,33,44]},
    {values: [111,222,333,444]},
  ]
};

var parentNode = document.getElementById("content");
template.table.replace({data: tableData}, parentNode, template);
</script>

</body>
</html>
