<html>
<head>
  <title>Test Case for Issue #4391</title>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.js"></script>
</head>
<body>

<h1>Issue #4482</h1>

<p>This test-case is intended for <a href="http://code.google.com/p/fbug/issues/detail?id=4482">Issue #4482</a>
- <span class="h3">JSON asynchronous requests not caught </span>.
<br/>
<i>Jan Odvarko, odvarko@gmail.com</i>
</p>

<ol>
<li>Open Firebug and enable the Console panel.</li>
<li>Click on the <code style="color:green">Execute Test</code> button below.</li>
<li>You should see a two logs in the Console panel. One representing the XHR request
and one saying:<br/>
<code>JSONP request completed successfully</code>.
</li>
</ol>

<button onclick="onExecuteTest()">Execute Test</button>

<script type="text/javascript">
function onExecuteTest()
{
    $.get("http://gdata.youtube.com/feeds/api/videos?format=5&v=2&alt=jsonc", null,
        function(response) {
        if (response.data.items) {
            console.log('JSONP request completed successfully');
        }
    }, 'jsonp')

    .error(function() {
        alert('An error ocurred.')
    })
}
</script>

</body>
</html>
