<!DOCTYPE html>
<html>
<head>
    <title>Bug test</title>
</head>
<body>
    <h1>Errors inside the onReadyStateChange function doesn't work</h1>

    <p>If Firebug is enabled, errors inside an onReadyStateChange event fail
silently </p>


    <script type="text/javascript">
        window.onerror = function(msg, url, lno) {
            window.onerror = function() {return false;};
            alert("There's an error: " + msg);
            return false;
        }


        var oXmlHttp = new XMLHttpRequest();

        oXmlHttp.open( "GET", this.location.href ) ;

        oXmlHttp.onreadystatechange = function(e)
        {
            // This line should obviously fail as there's no GenerateError
            GenerateError ;
        }

        oXmlHttp.send( null ) ;
</script>

</body>
</html>
